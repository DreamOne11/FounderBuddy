{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///Users/victorialiu/Desktop/FounderBuddy/frontend/src/components/ConfigPanel.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\n\ninterface Agent {\n  id: string;\n  name: string;\n  description: string;\n}\n\ninterface ConfigPanelProps {\n  selectedAgent: string;\n  userId: number;\n  mode: 'invoke' | 'stream';\n  threadId: string | null;\n  onAgentChange: (agentId: string) => void;\n  onUserIdChange: (userId: number) => void;\n  onModeChange: (mode: 'invoke' | 'stream') => void;\n  onClose?: () => void;\n}\n\nexport default function ConfigPanel({\n  selectedAgent,\n  userId,\n  mode,\n  threadId,\n  onAgentChange,\n  onUserIdChange,\n  onModeChange,\n  onClose\n}: ConfigPanelProps) {\n  const [agents, setAgents] = useState<Agent[]>([]);\n  const [userIdInput, setUserIdInput] = useState<string>(userId.toString());\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetchAgents();\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(() => {\n    setUserIdInput(userId.toString());\n  }, [userId]);\n\n  const fetchAgents = async () => {\n    try {\n      const response = await fetch('/api/agents');\n      const data = await response.json();\n      \n      const transformedAgents = (data.agents || []).map((agent: { key: string; description: string }) => ({\n        id: agent.key,\n        name: getAgentName(agent.key),\n        description: agent.description\n      }));\n      \n      // Filter to only show founder-buddy agent\n      const filteredAgents = transformedAgents.filter((agent: Agent) => agent.id === 'founder-buddy');\n      \n      setAgents(filteredAgents);\n      \n      // Auto-select founder-buddy if not already selected\n      if (filteredAgents.length > 0 && !selectedAgent) {\n        onAgentChange('founder-buddy');\n      }\n    } catch (error) {\n      console.error('Failed to fetch agents:', error);\n      // Fallback - only founder-buddy\n      setAgents([\n        { id: 'founder-buddy', name: 'Founder Buddy', description: 'Validate and refine your startup idea' }\n      ]);\n      \n      // Auto-select founder-buddy if not already selected\n      if (!selectedAgent) {\n        onAgentChange('founder-buddy');\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getAgentName = (key: string) => {\n    const names: Record<string, string> = {\n      'founder-buddy': 'Founder Buddy'\n    };\n    return names[key] || key;\n  };\n\n  const handleUserIdSubmit = () => {\n    const numericUserId = parseInt(userIdInput, 10);\n    if (isNaN(numericUserId) || numericUserId <= 0) {\n      alert('Please enter a valid positive integer');\n      return;\n    }\n    onUserIdChange(numericUserId);\n  };\n\n  return (\n    <div style={{\n      width: onClose ? '400px' : '320px',\n      maxHeight: onClose ? '90vh' : '100vh',\n      backgroundColor: 'white',\n      borderRight: onClose ? 'none' : '1px solid #e2e8f0',\n      borderRadius: onClose ? '12px' : '0',\n      boxShadow: onClose ? '0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)' : 'none',\n      display: 'flex',\n      flexDirection: 'column',\n      overflow: 'hidden',\n      position: 'relative'\n    }}>\n      {/* Close Button (only shown in modal mode) */}\n      {onClose && (\n        <button\n          onClick={onClose}\n          style={{\n            position: 'absolute',\n            top: '16px',\n            right: '16px',\n            width: '32px',\n            height: '32px',\n            borderRadius: '50%',\n            backgroundColor: '#f1f5f9',\n            border: 'none',\n            color: '#64748b',\n            fontSize: '18px',\n            cursor: 'pointer',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            zIndex: 10,\n            transition: 'all 0.2s ease'\n          }}\n          onMouseEnter={(e) => {\n            e.currentTarget.style.backgroundColor = '#e2e8f0';\n            e.currentTarget.style.color = '#1e293b';\n          }}\n          onMouseLeave={(e) => {\n            e.currentTarget.style.backgroundColor = '#f1f5f9';\n            e.currentTarget.style.color = '#64748b';\n          }}\n          title=\"Close\"\n        >\n          ‚úï\n        </button>\n      )}\n\n      {/* Configuration Section */}\n      <div style={{\n        padding: '20px',\n        flex: '0 0 auto',\n        borderBottom: '1px solid #e2e8f0'\n      }}>\n        <div>\n        <h2 style={{\n          fontSize: '18px',\n          fontWeight: 'bold',\n          color: '#1e293b',\n          marginBottom: '8px'\n        }}>\n          Configuration\n        </h2>\n        <p style={{\n          fontSize: '12px',\n          color: '#64748b'\n        }}>\n          Configure your chat settings\n        </p>\n      </div>\n\n      {/* Agent Selection */}\n      <div>\n        <label style={{\n          fontSize: '14px',\n          fontWeight: '500',\n          color: '#374151',\n          marginBottom: '8px',\n          display: 'block'\n        }}>\n          Agent\n        </label>\n        {loading ? (\n          <div style={{ color: '#64748b', fontSize: '12px' }}>Loading agents...</div>\n        ) : agents.length === 1 ? (\n          // If only one agent, show it as read-only\n          <div style={{\n            width: '100%',\n            padding: '8px 12px',\n            border: '1px solid #d1d5db',\n            borderRadius: '6px',\n            fontSize: '14px',\n            backgroundColor: '#f8fafc',\n            color: '#64748b'\n          }}>\n            {agents[0].name}\n          </div>\n        ) : (\n          <select\n            value={selectedAgent}\n            onChange={(e) => onAgentChange(e.target.value)}\n            style={{\n              width: '100%',\n              padding: '8px 12px',\n              border: '1px solid #d1d5db',\n              borderRadius: '6px',\n              fontSize: '14px',\n              backgroundColor: 'white'\n            }}\n          >\n            <option value=\"\">Select an agent</option>\n            {agents.map(agent => (\n              <option key={agent.id} value={agent.id}>\n                {agent.name}\n              </option>\n            ))}\n          </select>\n        )}\n        {selectedAgent && (\n          <div style={{\n            marginTop: '8px',\n            padding: '8px',\n            backgroundColor: '#f8fafc',\n            borderRadius: '4px',\n            fontSize: '12px',\n            color: '#475569'\n          }}>\n            {agents.find(a => a.id === selectedAgent)?.description}\n          </div>\n        )}\n      </div>\n\n      {/* User ID */}\n      <div>\n        <label style={{\n          fontSize: '14px',\n          fontWeight: '500',\n          color: '#374151',\n          marginBottom: '8px',\n          display: 'block'\n        }}>\n          User ID\n        </label>\n        <div style={{ display: 'flex', gap: '8px' }}>\n          <input\n            type=\"number\"\n            value={userIdInput}\n            onChange={(e) => setUserIdInput(e.target.value)}\n            placeholder=\"Enter user ID\"\n            min=\"1\"\n            step=\"1\"\n            style={{\n              flex: 1,\n              padding: '8px 12px',\n              border: '1px solid #d1d5db',\n              borderRadius: '6px',\n              fontSize: '14px'\n            }}\n          />\n          <button\n            onClick={handleUserIdSubmit}\n            disabled={userIdInput === userId.toString()}\n            style={{\n              padding: '8px 12px',\n              backgroundColor: userIdInput === userId.toString() ? '#9ca3af' : '#3b82f6',\n              color: 'white',\n              border: 'none',\n              borderRadius: '6px',\n              fontSize: '12px',\n              cursor: userIdInput === userId.toString() ? 'not-allowed' : 'pointer'\n            }}\n          >\n            Set\n          </button>\n        </div>\n      </div>\n\n      {/* Mode Selection */}\n      <div>\n        <label style={{\n          fontSize: '14px',\n          fontWeight: '500',\n          color: '#374151',\n          marginBottom: '8px',\n          display: 'block'\n        }}>\n          Response Mode\n        </label>\n        <div style={{ display: 'flex', gap: '8px' }}>\n          <button\n            onClick={() => onModeChange('invoke')}\n            style={{\n              flex: 1,\n              padding: '8px 12px',\n              backgroundColor: mode === 'invoke' ? '#3b82f6' : '#f1f5f9',\n              color: mode === 'invoke' ? 'white' : '#64748b',\n              border: '1px solid #e2e8f0',\n              borderRadius: '6px',\n              fontSize: '12px',\n              cursor: 'pointer'\n            }}\n          >\n            Invoke\n          </button>\n          <button\n            onClick={() => onModeChange('stream')}\n            style={{\n              flex: 1,\n              padding: '8px 12px',\n              backgroundColor: mode === 'stream' ? '#3b82f6' : '#f1f5f9',\n              color: mode === 'stream' ? 'white' : '#64748b',\n              border: '1px solid #e2e8f0',\n              borderRadius: '6px',\n              fontSize: '12px',\n              cursor: 'pointer'\n            }}\n          >\n            Stream\n          </button>\n        </div>\n        <div style={{\n          marginTop: '8px',\n          fontSize: '11px',\n          color: '#64748b'\n        }}>\n          {mode === 'invoke' ? 'Get complete response at once' : 'Get real-time streaming response'}\n        </div>\n      </div>\n\n        {/* Current Status */}\n        <div style={{\n          padding: '12px',\n          backgroundColor: '#f0f9ff',\n          borderRadius: '8px',\n          border: '1px solid #0ea5e9',\n          marginTop: '16px'\n        }}>\n          <div style={{ fontSize: '12px', fontWeight: '500', color: '#0369a1', marginBottom: '8px' }}>\n            Current Settings\n          </div>\n          <div style={{ fontSize: '11px', color: '#0369a1', lineHeight: '1.4' }}>\n            <div>Agent: {selectedAgent ? getAgentName(selectedAgent) : 'None'}</div>\n            <div>User ID: {userId}</div>\n            <div>Mode: {mode === 'invoke' ? 'Invoke' : 'Stream'}</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 571, "column": 0}, "map": {"version":3,"sources":["file:///Users/victorialiu/Desktop/FounderBuddy/frontend/src/utils/conversationStorage.ts"],"sourcesContent":["export interface Message {\n  id: string;\n  role: 'user' | 'assistant';\n  content: string;\n}\n\nexport interface Section {\n  database_id: number;\n  name: string;\n  status: string;\n}\n\nexport interface ConversationRecord {\n  threadId: string;\n  agentType: string;\n  userId: number;\n  createdAt: string;\n  lastUpdatedAt: string;\n  messages: Message[];\n  title?: string;\n  currentSection?: Section;\n}\n\nconst STORAGE_KEY = 'dent_conversations';\nconst MAX_CONVERSATIONS = 50;\n\nexport const conversationStorage = {\n  getAll(): ConversationRecord[] {\n    try {\n      const data = localStorage.getItem(STORAGE_KEY);\n      return data ? JSON.parse(data) : [];\n    } catch (error) {\n      console.error('Error loading conversations:', error);\n      return [];\n    }\n  },\n\n  save(conversation: ConversationRecord): void {\n    try {\n      const conversations = this.getAll();\n      const existingIndex = conversations.findIndex(c => c.threadId === conversation.threadId);\n      \n      if (existingIndex >= 0) {\n        conversations[existingIndex] = {\n          ...conversations[existingIndex],\n          ...conversation,\n          lastUpdatedAt: new Date().toISOString()\n        };\n      } else {\n        conversations.unshift(conversation);\n        \n        if (conversations.length > MAX_CONVERSATIONS) {\n          conversations.pop();\n        }\n      }\n      \n      // Remove sorting to maintain creation order\n      // Only sort when initially loading from storage\n      \n      localStorage.setItem(STORAGE_KEY, JSON.stringify(conversations));\n    } catch (error) {\n      console.error('Error saving conversation:', error);\n    }\n  },\n\n  get(threadId: string): ConversationRecord | null {\n    try {\n      const conversations = this.getAll();\n      return conversations.find(c => c.threadId === threadId) || null;\n    } catch (error) {\n      console.error('Error getting conversation:', error);\n      return null;\n    }\n  },\n\n  delete(threadId: string): void {\n    try {\n      const conversations = this.getAll();\n      const filtered = conversations.filter(c => c.threadId !== threadId);\n      localStorage.setItem(STORAGE_KEY, JSON.stringify(filtered));\n    } catch (error) {\n      console.error('Error deleting conversation:', error);\n    }\n  },\n\n  clear(): void {\n    try {\n      localStorage.removeItem(STORAGE_KEY);\n    } catch (error) {\n      console.error('Error clearing conversations:', error);\n    }\n  },\n\n  generateTitle(messages: Message[]): string {\n    const firstUserMessage = messages.find(m => m.role === 'user');\n    if (!firstUserMessage) return 'New Conversation';\n    \n    const content = firstUserMessage.content;\n    const maxLength = 50;\n    \n    if (content.length <= maxLength) return content;\n    return content.substring(0, maxLength) + '...';\n  },\n\n  formatDate(dateString: string): string {\n    const date = new Date(dateString);\n    const now = new Date();\n    const diffMs = now.getTime() - date.getTime();\n    const diffMins = Math.floor(diffMs / 60000);\n    const diffHours = Math.floor(diffMs / 3600000);\n    const diffDays = Math.floor(diffMs / 86400000);\n    \n    if (diffMins < 1) return 'Just now';\n    if (diffMins < 60) return `${diffMins} ${diffMins === 1 ? 'minute' : 'minutes'} ago`;\n    if (diffHours < 24) return `${diffHours} ${diffHours === 1 ? 'hour' : 'hours'} ago`;\n    if (diffDays < 7) return `${diffDays} ${diffDays === 1 ? 'day' : 'days'} ago`;\n    \n    return date.toLocaleDateString('en-US', { \n      month: 'short', \n      day: 'numeric',\n      year: date.getFullYear() !== now.getFullYear() ? 'numeric' : undefined\n    });\n  }\n};"],"names":[],"mappings":";;;AAuBA,MAAM,cAAc;AACpB,MAAM,oBAAoB;AAEnB,MAAM,sBAAsB;IACjC;QACE,IAAI;YACF,MAAM,OAAO,aAAa,OAAO,CAAC;YAClC,OAAO,OAAO,KAAK,KAAK,CAAC,QAAQ,EAAE;QACrC,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,gCAAgC;YAC9C,OAAO,EAAE;QACX;IACF;IAEA,MAAK,YAAgC;QACnC,IAAI;YACF,MAAM,gBAAgB,IAAI,CAAC,MAAM;YACjC,MAAM,gBAAgB,cAAc,SAAS,CAAC,CAAA,IAAK,EAAE,QAAQ,KAAK,aAAa,QAAQ;YAEvF,IAAI,iBAAiB,GAAG;gBACtB,aAAa,CAAC,cAAc,GAAG;oBAC7B,GAAG,aAAa,CAAC,cAAc;oBAC/B,GAAG,YAAY;oBACf,eAAe,IAAI,OAAO,WAAW;gBACvC;YACF,OAAO;gBACL,cAAc,OAAO,CAAC;gBAEtB,IAAI,cAAc,MAAM,GAAG,mBAAmB;oBAC5C,cAAc,GAAG;gBACnB;YACF;YAEA,4CAA4C;YAC5C,gDAAgD;YAEhD,aAAa,OAAO,CAAC,aAAa,KAAK,SAAS,CAAC;QACnD,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,8BAA8B;QAC9C;IACF;IAEA,KAAI,QAAgB;QAClB,IAAI;YACF,MAAM,gBAAgB,IAAI,CAAC,MAAM;YACjC,OAAO,cAAc,IAAI,CAAC,CAAA,IAAK,EAAE,QAAQ,KAAK,aAAa;QAC7D,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,+BAA+B;YAC7C,OAAO;QACT;IACF;IAEA,QAAO,QAAgB;QACrB,IAAI;YACF,MAAM,gBAAgB,IAAI,CAAC,MAAM;YACjC,MAAM,WAAW,cAAc,MAAM,CAAC,CAAA,IAAK,EAAE,QAAQ,KAAK;YAC1D,aAAa,OAAO,CAAC,aAAa,KAAK,SAAS,CAAC;QACnD,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,gCAAgC;QAChD;IACF;IAEA;QACE,IAAI;YACF,aAAa,UAAU,CAAC;QAC1B,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,iCAAiC;QACjD;IACF;IAEA,eAAc,QAAmB;QAC/B,MAAM,mBAAmB,SAAS,IAAI,CAAC,CAAA,IAAK,EAAE,IAAI,KAAK;QACvD,IAAI,CAAC,kBAAkB,OAAO;QAE9B,MAAM,UAAU,iBAAiB,OAAO;QACxC,MAAM,YAAY;QAElB,IAAI,QAAQ,MAAM,IAAI,WAAW,OAAO;QACxC,OAAO,QAAQ,SAAS,CAAC,GAAG,aAAa;IAC3C;IAEA,YAAW,UAAkB;QAC3B,MAAM,OAAO,IAAI,KAAK;QACtB,MAAM,MAAM,IAAI;QAChB,MAAM,SAAS,IAAI,OAAO,KAAK,KAAK,OAAO;QAC3C,MAAM,WAAW,KAAK,KAAK,CAAC,SAAS;QACrC,MAAM,YAAY,KAAK,KAAK,CAAC,SAAS;QACtC,MAAM,WAAW,KAAK,KAAK,CAAC,SAAS;QAErC,IAAI,WAAW,GAAG,OAAO;QACzB,IAAI,WAAW,IAAI,OAAO,GAAG,SAAS,CAAC,EAAE,aAAa,IAAI,WAAW,UAAU,IAAI,CAAC;QACpF,IAAI,YAAY,IAAI,OAAO,GAAG,UAAU,CAAC,EAAE,cAAc,IAAI,SAAS,QAAQ,IAAI,CAAC;QACnF,IAAI,WAAW,GAAG,OAAO,GAAG,SAAS,CAAC,EAAE,aAAa,IAAI,QAAQ,OAAO,IAAI,CAAC;QAE7E,OAAO,KAAK,kBAAkB,CAAC,SAAS;YACtC,OAAO;YACP,KAAK;YACL,MAAM,KAAK,WAAW,OAAO,IAAI,WAAW,KAAK,YAAY;QAC/D;IACF;AACF","debugId":null}},
    {"offset": {"line": 664, "column": 0}, "map": {"version":3,"sources":["file:///Users/victorialiu/Desktop/FounderBuddy/frontend/src/components/ChatArea.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useRef, useCallback } from 'react';\nimport ReactMarkdown from 'react-markdown';\nimport { conversationStorage, ConversationRecord } from '@/utils/conversationStorage';\n\ninterface Message {\n  id: string;\n  role: 'user' | 'assistant';\n  content: string;\n}\n\ninterface Section {\n  database_id: number;\n  name: string;\n  status: string;\n}\n\ninterface ChatAreaProps {\n  selectedAgent: string;\n  userId: number;\n  mode: 'invoke' | 'stream';\n  threadId: string | null;\n  loadedMessages?: Message[];\n  currentSection: Section | null;\n  onThreadIdChange: (threadId: string) => void;\n  onSectionUpdate: (section: Section) => void;\n  progressSidebar?: React.ReactNode;\n}\n\nexport default function ChatArea({\n  selectedAgent,\n  userId,\n  mode,\n  threadId,\n  loadedMessages,\n  currentSection,\n  onThreadIdChange,\n  onSectionUpdate,\n  progressSidebar\n}: ChatAreaProps) {\n  const [messages, setMessages] = useState<Message[]>([]);\n  const [input, setInput] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [streamingContent, setStreamingContent] = useState<string>('');\n  const [copiedMessageId, setCopiedMessageId] = useState<string | null>(null);\n  const [copiedAll, setCopiedAll] = useState(false);\n  const [isGeneratingLLM, setIsGeneratingLLM] = useState(false);\n  const [isAutoMode, setIsAutoMode] = useState(false);\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n  const inputRef = useRef<HTMLInputElement>(null);\n  const autoModeRef = useRef(false);\n\n  useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  }, [messages, isLoading]);\n\n  useEffect(() => {\n    if (!isLoading) {\n      inputRef.current?.focus();\n    }\n  }, [isLoading]);\n\n  // Add keyboard shortcut for auto-reply (Ctrl+G or Cmd+G)\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if ((e.ctrlKey || e.metaKey) && e.key === 'g') {\n        e.preventDefault();\n        handleAutoReply();\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [messages, selectedAgent, userId, isLoading, isGeneratingLLM, currentSection]);\n\n  // Reset messages when threadId is null (reset button clicked)\n  useEffect(() => {\n    if (threadId === null) {\n      setMessages([]);\n      setInput('');\n      setStreamingContent('');\n      setIsLoading(false);\n      setIsAutoMode(false);\n      autoModeRef.current = false;\n    }\n  }, [threadId]);\n\n  // Load messages when conversation is selected\n  useEffect(() => {\n    if (loadedMessages && loadedMessages.length > 0) {\n      setMessages(loadedMessages);\n    }\n  }, [loadedMessages, threadId]);\n\n  // Save conversation to localStorage when messages or threadId changes\n  useEffect(() => {\n    if (threadId && messages.length > 0) {\n      const conversation: ConversationRecord = {\n        threadId,\n        agentType: selectedAgent,\n        userId,\n        createdAt: new Date().toISOString(),\n        lastUpdatedAt: new Date().toISOString(),\n        messages,\n        title: conversationStorage.generateTitle(messages),\n        currentSection: currentSection || undefined\n      };\n      conversationStorage.save(conversation);\n    }\n  }, [messages, threadId, selectedAgent, userId, currentSection]);\n\n  // Sync autoModeRef with isAutoMode state\n  useEffect(() => {\n    autoModeRef.current = isAutoMode;\n  }, [isAutoMode]);\n\n  // Auto conversation trigger\n  useEffect(() => {\n    if (isAutoMode && !isLoading && !isGeneratingLLM && messages.length > 0) {\n      const lastMessage = messages[messages.length - 1];\n      // Only trigger if the last message is from assistant and has content\n      if (lastMessage.role === 'assistant' && lastMessage.content && lastMessage.content.trim() !== '') {\n        // Small delay to ensure stream is fully closed\n        const timer = setTimeout(() => {\n          if (autoModeRef.current && !isLoading && !isGeneratingLLM) {\n            handleAutoReply(true);\n          }\n        }, 100);\n        return () => clearTimeout(timer);\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [messages, isAutoMode, isLoading, isGeneratingLLM]);\n\n  const getAgentName = (agentId: string) => {\n    const names: Record<string, string> = {\n      'value-canvas': 'Value Canvas Agent',\n      'social-pitch': 'Social Pitch Agent',\n      'mission-pitch': 'Mission Pitch Agent',\n      'special-report': 'Special Report Agent',\n      'founder-buddy': 'Founder Buddy'\n    };\n    return names[agentId] || 'AI Agent';\n  };\n\n  const getPlaceholderText = (agentId: string) => {\n    const placeholders: Record<string, string> = {\n      'value-canvas': 'Try: \"I want to create my value canvas\"',\n      'social-pitch': 'Try: \"I want to create my social pitch\"',\n      'mission-pitch': 'Try: \"I want to discover my mission pitch\"',\n      'special-report': 'Try: \"Help me create a business report\"',\n      'founder-buddy': 'Try: \"I want to validate my startup idea\"'\n    };\n    return placeholders[agentId] || 'Type your message...';\n  };\n\n  // Extract send message logic\n  const handleSendMessage = useCallback(async (messageContent: string) => {\n    if (!messageContent.trim() || isLoading || !selectedAgent || !userId) return;\n\n    const userMessage: Message = {\n      id: Date.now().toString() + '-user',\n      role: 'user',\n      content: messageContent.trim()\n    };\n\n    setMessages(prev => [...prev, userMessage]);\n    setInput('');\n    setIsLoading(true);\n\n    try {\n      const requestPayload = {\n        messages: [{ role: 'user', content: userMessage.content }],\n        userId: userId,\n        threadId: threadId,\n        mode: mode,\n        agentId: selectedAgent\n      };\n\n      const response = await fetch('/api/chat', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(requestPayload),\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      // Handle invoke mode\n      if (mode === 'invoke') {\n        const invokeData = await response.json();\n\n        const assistantMessage: Message = {\n          id: Date.now().toString() + '-assistant',\n          role: 'assistant',\n          content: invokeData.content\n        };\n\n        setMessages(prev => [...prev, assistantMessage]);\n\n        if (invokeData.threadId && !threadId) {\n          onThreadIdChange(invokeData.threadId);\n        }\n        if (invokeData.section) {\n          onSectionUpdate(invokeData.section);\n        }\n\n        setIsLoading(false);\n        return;\n      }\n\n      // Handle streaming mode\n      const reader = response.body?.getReader();\n      const decoder = new TextDecoder();\n\n      if (!reader) {\n        throw new Error('No response body reader available');\n      }\n\n      const tempAssistantMessage: Message = {\n        id: Date.now().toString() + '-assistant',\n        role: 'assistant',\n        content: ''\n      };\n\n      setMessages(prev => [...prev, tempAssistantMessage]);\n      setStreamingContent('');\n\n      try {\n        while (true) {\n          const { done, value } = await reader.read();\n          if (done) break;\n\n          const chunk = decoder.decode(value, { stream: true });\n          const lines = chunk.split('\\n');\n\n          for (const line of lines) {\n            if (line.startsWith('data: ')) {\n              const data = line.slice(6);\n              if (data === '[DONE]') {\n                // Stream is complete\n                setIsLoading(false);\n                setStreamingContent('');\n                return;\n              }\n\n              try {\n                const parsed = JSON.parse(data);\n\n                if (parsed.type === 'token') {\n                  // Accumulate tokens for streaming display - no filtering\n                  setStreamingContent(prev => {\n                    const newContent = prev + parsed.content;\n                    setMessages(prevMessages =>\n                      prevMessages.map(msg =>\n                        msg.id === tempAssistantMessage.id\n                          ? { ...msg, content: newContent }\n                          : msg\n                      )\n                    );\n                    return newContent;\n                  });\n                } else if (parsed.type === 'metadata') {\n                  // Handle metadata event - extract thread_id\n                  if (parsed.content && parsed.content.thread_id && !threadId) {\n                    onThreadIdChange(parsed.content.thread_id);\n                  }\n                } else if (parsed.type === 'message') {\n                  // Skip duplicate message events - content is already handled via tokens\n                  // The backend sends these but we don't need to process them\n                } else if (parsed.type === 'section') {\n                  onSectionUpdate(parsed.content);\n                } else if (parsed.type === 'final_response') {\n                  // Handle final response if needed\n                  if (parsed.threadId && !threadId) {\n                    onThreadIdChange(parsed.threadId);\n                  }\n                  if (parsed.section) {\n                    onSectionUpdate(parsed.section);\n                  }\n                  setMessages(prevMessages =>\n                    prevMessages.map(msg =>\n                      msg.id === tempAssistantMessage.id\n                        ? { ...msg, content: parsed.content }\n                        : msg\n                    )\n                  );\n                }\n              } catch (e) {\n                console.error('Parse error:', e);\n              }\n            }\n          }\n        }\n      } finally {\n        reader.releaseLock();\n        // Ensure loading is set to false when stream ends\n        setIsLoading(false);\n      }\n\n    } catch (error) {\n      console.error('Error:', error);\n      const errorMessage: Message = {\n        id: Date.now().toString() + '-error',\n        role: 'assistant',\n        content: `Sorry, an error occurred while connecting to ${getAgentName(selectedAgent)}. Please try again.`\n      };\n      setMessages(prev => [...prev, errorMessage]);\n      setIsLoading(false);\n      // Stop auto mode on error\n      if (isAutoMode) {\n        setIsAutoMode(false);\n      }\n    }\n  }, [isLoading, selectedAgent, userId, threadId, mode, onThreadIdChange, onSectionUpdate, isAutoMode]);\n\n  const handleAutoReply = useCallback(async (autoSend = false) => {\n    if (isLoading || isGeneratingLLM || !selectedAgent || !userId) return;\n\n    setIsGeneratingLLM(true);\n\n    try {\n      // Call LLM API to generate response\n      const response = await fetch('/api/llm-generate', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          messages: messages,\n          agentType: selectedAgent,\n          currentSection: currentSection?.name || null\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to generate LLM response');\n      }\n\n      const data = await response.json();\n\n      if (autoSend) {\n        // Auto send the message\n        await handleSendMessage(data.message);\n      } else {\n        // Set the generated message in the input for preview\n        setInput(data.message);\n\n        // Focus the input field so user can review/edit before sending\n        setTimeout(() => {\n          inputRef.current?.focus();\n        }, 100);\n      }\n\n    } catch (error) {\n      console.error('Error generating LLM response:', error);\n      if (!autoSend) {\n        // Fallback message only for manual mode\n        setInput('Yes, let\\'s continue.');\n      }\n    } finally {\n      setIsGeneratingLLM(false);\n    }\n  }, [isLoading, isGeneratingLLM, selectedAgent, userId, messages, currentSection, handleSendMessage]);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    await handleSendMessage(input);\n  };\n\n  const canSendMessage = selectedAgent && userId && input.trim() && !isLoading && !isAutoMode;\n\n  const copyToClipboard = async (text: string, messageId?: string) => {\n    try {\n      await navigator.clipboard.writeText(text);\n      if (messageId) {\n        setCopiedMessageId(messageId);\n        setTimeout(() => setCopiedMessageId(null), 1500);\n      }\n    } catch (err) {\n      console.error('Failed to copy text: ', err);\n    }\n  };\n\n  const copyAllConversation = async () => {\n    const conversationText = messages.map(msg => {\n      const role = msg.role === 'user' ? 'üë§ Áî®Êà∑' : `ü§ñ ${getAgentName(selectedAgent)}`;\n      return `${role}:\\n${msg.content}`;\n    }).join('\\n\\n' + '='.repeat(50) + '\\n\\n');\n    \n    await copyToClipboard(conversationText);\n    setCopiedAll(true);\n    setTimeout(() => setCopiedAll(false), 1500);\n  };\n\n  return (\n    <div style={{\n      flex: 1,\n      display: 'flex',\n      flexDirection: 'column',\n      height: '100vh'\n    }}>\n      {/* Header */}\n      <div style={{\n        padding: '16px 24px',\n        borderBottom: '1px solid #e2e8f0',\n        backgroundColor: 'white',\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        gap: '16px'\n      }}>\n         <div style={{ flex: 1 }}>\n           <h1 style={{\n             fontSize: '20px',\n             fontWeight: 'bold',\n             color: '#1e293b',\n             margin: 0,\n             display: 'flex',\n             alignItems: 'center',\n             gap: '8px'\n           }}>\n             {selectedAgent ? getAgentName(selectedAgent) : 'Select an Agent'}\n             {isAutoMode && (\n               <span style={{\n                 fontSize: '12px',\n                 padding: '2px 8px',\n                 backgroundColor: '#dc2626',\n                 color: 'white',\n                 borderRadius: '4px',\n                 fontWeight: 'normal',\n                 animation: 'pulse 2s infinite'\n               }}>\n                 AUTO MODE\n               </span>\n             )}\n           </h1>\n           {selectedAgent && (\n             <p style={{\n               fontSize: '12px',\n               color: '#64748b',\n               margin: '4px 0 0 0'\n             }}>\n               {selectedAgent === 'value-canvas' && 'Create powerful marketing frameworks'}\n               {selectedAgent === 'social-pitch' && 'Craft compelling social pitches'}\n               {selectedAgent === 'mission-pitch' && 'Discover your purpose and vision'}\n               {selectedAgent === 'special-report' && 'Comprehensive business reports and analysis'}\n               {selectedAgent === 'founder-buddy' && 'Validate and refine your startup idea'}\n             </p>\n           )}\n         </div>\n\n         {progressSidebar}\n\n         {messages.length > 0 && (\n           <button\n             onClick={copyAllConversation}\n             style={{\n               padding: '8px 12px',\n               backgroundColor: copiedAll ? '#059669' : '#10b981',\n               color: 'white',\n               border: 'none',\n               borderRadius: '6px',\n               fontSize: '12px',\n               cursor: 'pointer',\n               display: 'flex',\n               alignItems: 'center',\n               gap: '4px',\n               transition: 'all 0.2s ease',\n               transform: copiedAll ? 'scale(1.05)' : 'scale(1)',\n               whiteSpace: 'nowrap'\n             }}\n             title={copiedAll ? \"Copied all messages!\" : \"Copy all conversation\"}\n           >\n             {copiedAll ? '‚úì Copied!' : 'üìã Copy All'}\n           </button>\n         )}\n      </div>\n\n      {/* Messages */}\n      <div style={{\n        flex: 1,\n        overflowY: 'auto',\n        padding: '24px',\n        backgroundColor: '#f8fafc'\n      }}>\n        {!selectedAgent ? (\n          <div style={{\n            textAlign: 'center',\n            paddingTop: '100px',\n            color: '#64748b'\n          }}>\n            <div style={{ fontSize: '16px', marginBottom: '8px' }}>\n              üëà Please select an agent from the left panel to start chatting\n            </div>\n          </div>\n        ) : messages.length === 0 ? (\n          <div style={{\n            textAlign: 'center',\n            paddingTop: '100px',\n            color: '#64748b'\n          }}>\n            <div style={{ fontSize: '16px', marginBottom: '8px' }}>\n              üöÄ Start your conversation with {getAgentName(selectedAgent)}\n            </div>\n            <div style={{ fontSize: '12px' }}>\n              {getPlaceholderText(selectedAgent)}\n            </div>\n          </div>\n        ) : (\n          <div style={{ display: 'flex', flexDirection: 'column', gap: '16px' }}>\n            {messages.map((message) => (\n              <div key={message.id} style={{\n                display: 'flex',\n                justifyContent: message.role === 'user' ? 'flex-end' : 'flex-start'\n              }}>\n                <div style={{\n                  maxWidth: '70%',\n                  padding: '12px 16px',\n                  borderRadius: '12px',\n                  backgroundColor: message.role === 'user' ? '#3b82f6' : '#ffffff',\n                  color: message.role === 'user' ? 'white' : '#1e293b',\n                  boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\n                  position: 'relative'\n                }}>\n                  <div style={{\n                    fontSize: '10px',\n                    fontWeight: '500',\n                    marginBottom: '4px',\n                    opacity: 0.7\n                  }}>\n                    {message.role === 'user' ? 'You' : getAgentName(selectedAgent)}\n                  </div>\n                  <div style={{\n                    fontSize: '14px',\n                    lineHeight: '1.5',\n                    whiteSpace: message.role === 'user' ? 'pre-wrap' : 'normal'\n                  }}>\n                    {message.role === 'assistant' ? (\n                      <ReactMarkdown\n                        components={{\n                          p: ({ children }) => <p style={{ margin: '0 0 8px 0' }}>{children}</p>,\n                          h1: ({ children }) => <h1 style={{ margin: '0 0 12px 0', fontSize: '18px', fontWeight: 'bold' }}>{children}</h1>,\n                          h2: ({ children }) => <h2 style={{ margin: '0 0 10px 0', fontSize: '16px', fontWeight: 'bold' }}>{children}</h2>,\n                          h3: ({ children }) => <h3 style={{ margin: '0 0 8px 0', fontSize: '15px', fontWeight: 'bold' }}>{children}</h3>,\n                          ul: ({ children }) => <ul style={{ margin: '0 0 8px 0', paddingLeft: '16px' }}>{children}</ul>,\n                          ol: ({ children }) => <ol style={{ margin: '0 0 8px 0', paddingLeft: '16px' }}>{children}</ol>,\n                          li: ({ children }) => <li style={{ margin: '2px 0' }}>{children}</li>,\n                          strong: ({ children }) => <strong style={{ fontWeight: 'bold' }}>{children}</strong>,\n                          em: ({ children }) => <em style={{ fontStyle: 'italic' }}>{children}</em>,\n                          code: ({ children }) => <code style={{ \n                            backgroundColor: '#f1f5f9', \n                            padding: '2px 4px', \n                            borderRadius: '3px', \n                            fontSize: '13px',\n                            fontFamily: 'monospace'\n                          }}>{children}</code>,\n                          pre: ({ children }) => <pre style={{ \n                            backgroundColor: '#f1f5f9', \n                            padding: '8px', \n                            borderRadius: '6px', \n                            overflow: 'auto',\n                            margin: '8px 0'\n                          }}>{children}</pre>,\n                          blockquote: ({ children }) => <blockquote style={{ \n                            borderLeft: '3px solid #cbd5e1', \n                            paddingLeft: '12px', \n                            margin: '8px 0',\n                            fontStyle: 'italic'\n                          }}>{children}</blockquote>\n                        }}\n                      >\n                        {message.content}\n                      </ReactMarkdown>\n                    ) : (\n                      message.content\n                    )}\n                  </div>\n                  {message.role === 'assistant' && (\n                    <button\n                      onClick={() => copyToClipboard(message.content, message.id)}\n                      style={{\n                        position: 'absolute',\n                        top: '8px',\n                        right: '8px',\n                        width: '24px',\n                        height: '24px',\n                        border: 'none',\n                        borderRadius: '4px',\n                        backgroundColor: copiedMessageId === message.id ? '#10b981' : '#f1f5f9',\n                        color: copiedMessageId === message.id ? 'white' : '#64748b',\n                        cursor: 'pointer',\n                        fontSize: '12px',\n                        display: 'flex',\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                        opacity: 0.7,\n                        transition: 'all 0.2s ease',\n                        transform: copiedMessageId === message.id ? 'scale(1.1)' : 'scale(1)'\n                      }}\n                      onMouseEnter={(e) => e.currentTarget.style.opacity = '1'}\n                      onMouseLeave={(e) => e.currentTarget.style.opacity = '0.7'}\n                      title={copiedMessageId === message.id ? \"Copied!\" : \"Copy message\"}\n                    >\n                      {copiedMessageId === message.id ? '‚úì' : 'üìã'}\n                    </button>\n                  )}\n                </div>\n              </div>\n            ))}\n\n            {isLoading && (\n              <div style={{ display: 'flex', justifyContent: 'flex-start' }}>\n                <div style={{\n                  maxWidth: '70%',\n                  padding: '12px 16px',\n                  borderRadius: '12px',\n                  backgroundColor: '#ffffff',\n                  color: '#1e293b',\n                  boxShadow: '0 1px 3px rgba(0,0,0,0.1)'\n                }}>\n                  <div style={{\n                    fontSize: '10px',\n                    fontWeight: '500',\n                    marginBottom: '4px',\n                    opacity: 0.7\n                  }}>\n                    {getAgentName(selectedAgent)}\n                  </div>\n                  <div style={{\n                    fontSize: '14px',\n                    color: '#64748b',\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '8px'\n                  }}>\n                    <div style={{\n                      width: '16px',\n                      height: '16px',\n                      border: '2px solid #f3f4f6',\n                      borderTop: '2px solid #3b82f6',\n                      borderRadius: '50%',\n                      animation: 'spin 1s linear infinite'\n                    }}></div>\n                    {mode === 'stream' ? 'Thinking...' : 'Processing...'}\n                  </div>\n                </div>\n              </div>\n            )}\n            \n            <div ref={messagesEndRef} />\n          </div>\n        )}\n      </div>\n\n      {/* Input */}\n      <div style={{\n        padding: '16px 24px',\n        backgroundColor: 'white',\n        borderTop: '1px solid #e2e8f0'\n      }}>\n        <form onSubmit={handleSubmit} style={{ display: 'flex', gap: '12px' }}>\n          <input\n            ref={inputRef}\n            type=\"text\"\n            value={input}\n            onChange={(e) => setInput(e.target.value)}\n            placeholder={isAutoMode ? 'Auto conversation in progress...' : (selectedAgent ? getPlaceholderText(selectedAgent) : 'Select an agent first...')}\n            disabled={!selectedAgent || !userId || isGeneratingLLM || isAutoMode}\n            style={{\n              flex: 1,\n              padding: '12px 16px',\n              border: '1px solid #d1d5db',\n              borderRadius: '8px',\n              fontSize: '14px',\n              outline: 'none',\n              backgroundColor: isAutoMode ? '#f9fafb' : 'white',\n              cursor: isAutoMode ? 'not-allowed' : 'text'\n            }}\n          />\n          <button\n            type=\"button\"\n            onClick={() => handleAutoReply(false)}\n            disabled={!selectedAgent || !userId || isLoading || isGeneratingLLM || isAutoMode}\n            style={{\n              padding: '12px 20px',\n              backgroundColor: isGeneratingLLM\n                ? '#fbbf24'\n                : (!selectedAgent || !userId || isLoading || isAutoMode)\n                  ? '#d1d5db'\n                  : '#10b981',\n              color: 'white',\n              borderRadius: '8px',\n              border: 'none',\n              fontSize: '14px',\n              cursor: (!selectedAgent || !userId || isLoading || isGeneratingLLM || isAutoMode) ? 'not-allowed' : 'pointer',\n              fontWeight: '500',\n              display: 'flex',\n              alignItems: 'center',\n              gap: '6px',\n              transition: 'all 0.2s ease'\n            }}\n            title=\"Generate response using AI (for testing)\"\n          >\n            {isGeneratingLLM ? (\n              <>\n                <div style={{\n                  width: '14px',\n                  height: '14px',\n                  border: '2px solid rgba(255, 255, 255, 0.3)',\n                  borderTop: '2px solid white',\n                  borderRadius: '50%',\n                  animation: 'spin 0.8s linear infinite'\n                }}></div>\n                <span>Generating...</span>\n              </>\n            ) : (\n              <>\n                <span>ü§ñ</span>\n                <span>Auto Reply</span>\n              </>\n            )}\n          </button>\n          <button\n            type=\"button\"\n            onClick={() => {\n              if (isAutoMode) {\n                setIsAutoMode(false);\n                // If generating LLM, stop it immediately\n                if (isGeneratingLLM) {\n                  setIsGeneratingLLM(false);\n                }\n              } else {\n                setIsAutoMode(true);\n                // Start the conversation if no messages yet\n                if (messages.length === 0) {\n                  handleAutoReply(true);\n                }\n              }\n            }}\n            disabled={!selectedAgent || !userId || (!isAutoMode && (isLoading || isGeneratingLLM))}\n            style={{\n              padding: '12px 20px',\n              backgroundColor: isAutoMode\n                ? '#dc2626'\n                : (!selectedAgent || !userId || isLoading || isGeneratingLLM)\n                  ? '#d1d5db'\n                  : '#8b5cf6',\n              color: 'white',\n              borderRadius: '8px',\n              border: 'none',\n              fontSize: '14px',\n              cursor: (!selectedAgent || !userId || (!isAutoMode && (isLoading || isGeneratingLLM))) ? 'not-allowed' : 'pointer',\n              fontWeight: '500',\n              display: 'flex',\n              alignItems: 'center',\n              gap: '6px',\n              transition: 'all 0.2s ease'\n            }}\n            title={isAutoMode ? \"Stop auto conversation\" : \"Start auto conversation\"}\n          >\n            {isAutoMode ? (\n              <>\n                <span>‚èπÔ∏è</span>\n                <span>Stop Auto</span>\n              </>\n            ) : (\n              <>\n                <span>‚ñ∂Ô∏è</span>\n                <span>Start Auto</span>\n              </>\n            )}\n          </button>\n          <button\n            type=\"submit\"\n            disabled={!canSendMessage}\n            style={{\n              padding: '12px 24px',\n              backgroundColor: canSendMessage ? '#3b82f6' : '#9ca3af',\n              color: 'white',\n              borderRadius: '8px',\n              border: 'none',\n              fontSize: '14px',\n              cursor: canSendMessage ? 'pointer' : 'not-allowed',\n              fontWeight: '500'\n            }}\n          >\n            Send\n          </button>\n        </form>\n      </div>\n\n      <style jsx>{`\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n        @keyframes pulse {\n          0%, 100% { opacity: 1; }\n          50% { opacity: 0.5; }\n        }\n      `}</style>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1824, "column": 0}, "map": {"version":3,"sources":["file:///Users/victorialiu/Desktop/FounderBuddy/frontend/src/components/ProgressSidebar.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\n\ninterface Section {\n  database_id: number;\n  name: string;\n  status: string;\n}\n\ninterface ProgressSidebarProps {\n  currentSection: Section | null;\n  selectedAgent: string;\n}\n\n// Define all sections for founder-buddy\nconst FOUNDER_BUDDY_SECTIONS = [\n  { id: 'mission', name: 'Mission', displayName: 'Mission' },\n  { id: 'idea', name: 'Idea', displayName: 'Idea' },\n  { id: 'team_traction', name: 'Team & Traction', displayName: 'Team & Traction' },\n  { id: 'invest_plan', name: 'Investment Plan', displayName: 'Investment Plan' }\n];\n\nexport default function ProgressSidebar({ currentSection, selectedAgent }: ProgressSidebarProps) {\n  const [isOpen, setIsOpen] = useState(false);\n\n  const getSectionTitle = (agentId: string) => {\n    if (agentId === 'value-canvas') return 'Current Section';\n    if (agentId === 'social-pitch') return 'Current Component';\n    if (agentId === 'mission-pitch') return 'Current Stage';\n    if (agentId === 'special-report') return 'Current Section';\n    return 'Progress';\n  };\n\n  // Get status for a section\n  const getSectionStatus = (sectionId: string): 'pending' | 'in_progress' | 'completed' => {\n    if (!currentSection) return 'pending';\n    \n    // Match by section name (case-insensitive)\n    const currentSectionName = currentSection.name.toLowerCase();\n    const sectionName = sectionId.toLowerCase();\n    \n    // Check if this is the current section\n    if (currentSectionName.includes(sectionName) || sectionName.includes(currentSectionName)) {\n      if (currentSection.status === 'completed' || currentSection.status === 'done') {\n        return 'completed';\n      }\n      return 'in_progress';\n    }\n    \n    // Check if sections before this one are completed\n    const currentIndex = FOUNDER_BUDDY_SECTIONS.findIndex(s => \n      currentSectionName.includes(s.id) || currentSectionName.includes(s.name.toLowerCase())\n    );\n    const sectionIndex = FOUNDER_BUDDY_SECTIONS.findIndex(s => s.id === sectionId);\n    \n    if (currentIndex > sectionIndex) {\n      return 'completed';\n    }\n    \n    return 'pending';\n  };\n\n  // Get display name for current section\n  const getCurrentSectionDisplayName = () => {\n    if (!currentSection) return 'Select a section';\n    \n    // Try to match with our defined sections\n    const matched = FOUNDER_BUDDY_SECTIONS.find(s => \n      currentSection.name.toLowerCase().includes(s.id) || \n      currentSection.name.toLowerCase().includes(s.name.toLowerCase())\n    );\n    \n    return matched ? matched.displayName : currentSection.name;\n  };\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'completed':\n      case 'done':\n        return '#10b981'; // green\n      case 'in_progress':\n        return '#6366f1'; // purple\n      default:\n        return '#94a3b8'; // gray\n    }\n  };\n\n  const getStatusText = (status: string) => {\n    switch (status) {\n      case 'completed':\n      case 'done':\n        return 'Done';\n      case 'in_progress':\n        return 'In Progress';\n      default:\n        return 'Pending';\n    }\n  };\n\n  // Only show dropdown for founder-buddy\n  if (selectedAgent !== 'founder-buddy') {\n    return (\n      <div style={{\n        display: 'flex',\n        gap: '12px',\n        alignItems: 'center'\n      }}>\n        <div style={{\n          fontSize: '12px',\n          fontWeight: '600',\n          color: '#64748b',\n          whiteSpace: 'nowrap'\n        }}>\n          {getSectionTitle(selectedAgent)}:\n        </div>\n        \n        {currentSection ? (\n          <div style={{ display: 'flex', gap: '8px', alignItems: 'center' }}>\n            <div style={{\n              padding: '6px 12px',\n              backgroundColor: '#f8fafc',\n              borderRadius: '6px',\n              border: '1px solid #e2e8f0',\n              fontSize: '12px',\n              color: '#1e293b',\n              fontWeight: '500'\n            }}>\n              #{currentSection.database_id}\n            </div>\n\n            <div style={{\n              padding: '6px 12px',\n              backgroundColor: '#f8fafc',\n              borderRadius: '6px',\n              border: '1px solid #e2e8f0',\n              fontSize: '12px',\n              color: '#1e293b',\n              fontWeight: '500'\n            }}>\n              {currentSection.name}\n            </div>\n\n            <div style={{\n              padding: '6px 12px',\n              backgroundColor: '#f8fafc',\n              borderRadius: '6px',\n              border: '1px solid #e2e8f0',\n              fontSize: '12px',\n              fontWeight: '500',\n              color: currentSection.status === 'pending' ? '#f59e0b' :\n                     currentSection.status === 'completed' ? '#10b981' : '#6366f1',\n              display: 'flex',\n              alignItems: 'center',\n              gap: '4px'\n            }}>\n              <span style={{\n                width: '6px',\n                height: '6px',\n                borderRadius: '50%',\n                backgroundColor: currentSection.status === 'pending' ? '#f59e0b' :\n                               currentSection.status === 'completed' ? '#10b981' : '#6366f1'\n              }}></span>\n              {currentSection.status.charAt(0).toUpperCase() + currentSection.status.slice(1)}\n            </div>\n          </div>\n        ) : (\n          <div style={{\n            fontSize: '12px',\n            color: '#94a3b8',\n            fontStyle: 'italic'\n          }}>\n            {selectedAgent ? 'Start a conversation to see progress' : 'Select an agent to begin'}\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  return (\n    <div style={{\n      display: 'flex',\n      gap: '12px',\n      alignItems: 'center',\n      position: 'relative'\n    }}>\n      <div style={{\n        fontSize: '12px',\n        fontWeight: '600',\n        color: '#64748b',\n        whiteSpace: 'nowrap'\n      }}>\n        {getSectionTitle(selectedAgent)}:\n      </div>\n      \n      <div style={{ position: 'relative', minWidth: '200px' }}>\n        <button\n          onClick={() => setIsOpen(!isOpen)}\n          style={{\n            width: '100%',\n            padding: '8px 12px',\n            backgroundColor: '#f8fafc',\n            border: '1px solid #e2e8f0',\n            borderRadius: '6px',\n            fontSize: '12px',\n            color: '#1e293b',\n            fontWeight: '500',\n            cursor: 'pointer',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'space-between',\n            gap: '8px',\n            transition: 'all 0.2s ease'\n          }}\n          onMouseEnter={(e) => {\n            e.currentTarget.style.backgroundColor = '#f1f5f9';\n            e.currentTarget.style.borderColor = '#cbd5e1';\n          }}\n          onMouseLeave={(e) => {\n            if (!isOpen) {\n              e.currentTarget.style.backgroundColor = '#f8fafc';\n              e.currentTarget.style.borderColor = '#e2e8f0';\n            }\n          }}\n        >\n          <div style={{ display: 'flex', alignItems: 'center', gap: '8px', flex: 1 }}>\n            {currentSection ? (\n              <>\n                <span style={{\n                  width: '6px',\n                  height: '6px',\n                  borderRadius: '50%',\n                  backgroundColor: getStatusColor(currentSection.status)\n                }}></span>\n                <span>{getCurrentSectionDisplayName()}</span>\n                <span style={{\n                  fontSize: '10px',\n                  color: '#94a3b8',\n                  marginLeft: 'auto'\n                }}>\n                  {getStatusText(currentSection.status)}\n                </span>\n              </>\n            ) : (\n              <span style={{ color: '#94a3b8' }}>Select a section</span>\n            )}\n          </div>\n          <span style={{\n            fontSize: '10px',\n            color: '#64748b',\n            transform: isOpen ? 'rotate(180deg)' : 'rotate(0deg)',\n            transition: 'transform 0.2s ease'\n          }}>‚ñº</span>\n        </button>\n\n        {isOpen && (\n          <>\n            <div\n              onClick={() => setIsOpen(false)}\n              style={{\n                position: 'fixed',\n                top: 0,\n                left: 0,\n                right: 0,\n                bottom: 0,\n                zIndex: 998\n              }}\n            />\n            <div style={{\n              position: 'absolute',\n              top: '100%',\n              left: 0,\n              right: 0,\n              marginTop: '4px',\n              backgroundColor: 'white',\n              border: '1px solid #e2e8f0',\n              borderRadius: '6px',\n              boxShadow: '0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)',\n              zIndex: 999,\n              overflow: 'hidden',\n              maxHeight: '300px',\n              overflowY: 'auto'\n            }}>\n              {FOUNDER_BUDDY_SECTIONS.map((section) => {\n                const status = getSectionStatus(section.id);\n                const isCurrent = currentSection && (\n                  currentSection.name.toLowerCase().includes(section.id) ||\n                  currentSection.name.toLowerCase().includes(section.name.toLowerCase())\n                );\n\n                return (\n                  <div\n                    key={section.id}\n                    onClick={() => {\n                      setIsOpen(false);\n                      // Could add navigation logic here if needed\n                    }}\n                    style={{\n                      padding: '10px 12px',\n                      cursor: 'pointer',\n                      backgroundColor: isCurrent ? '#f0f9ff' : 'white',\n                      borderLeft: isCurrent ? '3px solid #6366f1' : '3px solid transparent',\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'space-between',\n                      gap: '8px',\n                      transition: 'background-color 0.15s ease'\n                    }}\n                    onMouseEnter={(e) => {\n                      e.currentTarget.style.backgroundColor = '#f8fafc';\n                    }}\n                    onMouseLeave={(e) => {\n                      e.currentTarget.style.backgroundColor = isCurrent ? '#f0f9ff' : 'white';\n                    }}\n                  >\n                    <div style={{ display: 'flex', alignItems: 'center', gap: '8px', flex: 1 }}>\n                      <span style={{\n                        width: '6px',\n                        height: '6px',\n                        borderRadius: '50%',\n                        backgroundColor: getStatusColor(status)\n                      }}></span>\n                      <span style={{\n                        fontSize: '12px',\n                        fontWeight: isCurrent ? '600' : '500',\n                        color: '#1e293b'\n                      }}>\n                        {section.displayName}\n                      </span>\n                    </div>\n                    <span style={{\n                      fontSize: '10px',\n                      color: getStatusColor(status),\n                      fontWeight: '500'\n                    }}>\n                      {getStatusText(status)}\n                    </span>\n                  </div>\n                );\n              })}\n            </div>\n          </>\n        )}\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2312, "column": 0}, "map": {"version":3,"sources":["file:///Users/victorialiu/Desktop/FounderBuddy/frontend/src/components/ConversationHistory.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { conversationStorage, ConversationRecord } from '@/utils/conversationStorage';\n\ninterface ConversationHistoryProps {\n  currentThreadId: string | null;\n  selectedAgent: string;\n  onSelectConversation: (conversation: ConversationRecord) => void;\n  onDeleteConversation?: (threadId: string) => void;\n}\n\nconst agentIcons: Record<string, string> = {\n  'value-canvas': 'üíé',\n  'mission-pitch': 'üéØ',\n  'signature-pitch': '‚úçÔ∏è',\n  'social-pitch': 'üåê',\n  'special-report': 'üìä',\n};\n\nexport default function ConversationHistory({\n  currentThreadId,\n  selectedAgent,\n  onSelectConversation,\n  onDeleteConversation\n}: ConversationHistoryProps) {\n  const [conversations, setConversations] = useState<ConversationRecord[]>([]);\n  const [filter, setFilter] = useState<string>('all');\n  const [showFilters, setShowFilters] = useState(false);\n\n  useEffect(() => {\n    loadConversations();\n    const interval = setInterval(loadConversations, 5000);\n    return () => clearInterval(interval);\n  }, []);\n\n  const loadConversations = () => {\n    const allConversations = conversationStorage.getAll();\n    setConversations(allConversations);\n  };\n\n  const handleDelete = (e: React.MouseEvent, threadId: string) => {\n    e.stopPropagation();\n    if (confirm('Delete this conversation?')) {\n      conversationStorage.delete(threadId);\n      loadConversations();\n      if (onDeleteConversation) {\n        onDeleteConversation(threadId);\n      }\n    }\n  };\n\n  const handleClearAll = () => {\n    if (confirm('Delete all conversation history?')) {\n      conversationStorage.clear();\n      loadConversations();\n    }\n  };\n\n  const handleNewConversation = () => {\n    window.location.reload();\n  };\n\n  const filteredConversations = conversations.filter(conv => {\n    return filter === 'all' || conv.agentType === filter;\n  });\n\n  return (\n    <div style={{\n      height: '100%',\n      display: 'flex',\n      flexDirection: 'column',\n      backgroundColor: '#f8fafc'\n    }}>\n      {/* Header */}\n      <div style={{\n        padding: '16px',\n        backgroundColor: 'white',\n        borderBottom: '1px solid #e2e8f0'\n      }}>\n        <div style={{\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          marginBottom: '12px'\n        }}>\n          <h3 style={{ \n            margin: 0, \n            fontSize: '14px', \n            fontWeight: 600,\n            color: '#1e293b'\n          }}>\n            Conversations\n          </h3>\n          <div style={{ display: 'flex', gap: '4px' }}>\n            <button\n              onClick={() => setShowFilters(!showFilters)}\n              style={{\n                padding: '4px 8px',\n                fontSize: '11px',\n                color: '#64748b',\n                background: 'white',\n                border: '1px solid #e2e8f0',\n                borderRadius: '4px',\n                cursor: 'pointer'\n              }}\n              title=\"Filter conversations\"\n            >\n              üîΩ Filter\n            </button>\n            {conversations.length > 0 && (\n              <button\n                onClick={handleClearAll}\n                style={{\n                  padding: '4px 8px',\n                  fontSize: '11px',\n                  color: '#ef4444',\n                  background: 'white',\n                  border: '1px solid #fecaca',\n                  borderRadius: '4px',\n                  cursor: 'pointer'\n                }}\n                title=\"Clear all conversations\"\n              >\n                Clear\n              </button>\n            )}\n          </div>\n        </div>\n\n        {/* New Conversation Button */}\n        <button\n          onClick={handleNewConversation}\n          style={{\n            width: '100%',\n            padding: '10px',\n            backgroundColor: '#3b82f6',\n            color: 'white',\n            border: 'none',\n            borderRadius: '6px',\n            fontSize: '13px',\n            fontWeight: 500,\n            cursor: 'pointer',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            gap: '6px'\n          }}\n        >\n          <span style={{ fontSize: '16px' }}>+</span>\n          New Conversation\n        </button>\n\n        {/* Filter Pills */}\n        {showFilters && (\n          <div style={{ \n            marginTop: '12px',\n            display: 'flex', \n            gap: '4px', \n            flexWrap: 'wrap' \n          }}>\n            <button\n              onClick={() => setFilter('all')}\n              style={{\n                padding: '4px 10px',\n                fontSize: '11px',\n                background: filter === 'all' ? '#3b82f6' : 'white',\n                color: filter === 'all' ? 'white' : '#64748b',\n                border: `1px solid ${filter === 'all' ? '#3b82f6' : '#e2e8f0'}`,\n                borderRadius: '12px',\n                cursor: 'pointer'\n              }}\n            >\n              All ({conversations.length})\n            </button>\n            {Object.entries(agentIcons).map(([agent, icon]) => {\n              const count = conversations.filter(c => c.agentType === agent).length;\n              if (count === 0) return null;\n              return (\n                <button\n                  key={agent}\n                  onClick={() => setFilter(agent)}\n                  style={{\n                    padding: '4px 10px',\n                    fontSize: '11px',\n                    background: filter === agent ? '#3b82f6' : 'white',\n                    color: filter === agent ? 'white' : '#64748b',\n                    border: `1px solid ${filter === agent ? '#3b82f6' : '#e2e8f0'}`,\n                    borderRadius: '12px',\n                    cursor: 'pointer'\n                  }}\n                >\n                  {icon} ({count})\n                </button>\n              );\n            })}\n          </div>\n        )}\n      </div>\n\n      {/* Conversations List */}\n      <div style={{\n        flex: 1,\n        overflowY: 'auto',\n        padding: '12px'\n      }}>\n        {filteredConversations.length === 0 ? (\n          <div style={{\n            textAlign: 'center',\n            color: '#94a3b8',\n            padding: '32px 16px',\n            fontSize: '13px'\n          }}>\n            {conversations.length === 0 \n              ? 'No conversations yet. Start a new conversation above.'\n              : 'No conversations match the selected filter.'}\n          </div>\n        ) : (\n          <div style={{\n            display: 'flex',\n            flexDirection: 'column',\n            gap: '8px'\n          }}>\n            {filteredConversations.map(conv => (\n              <div\n                key={conv.threadId}\n                onClick={() => onSelectConversation(conv)}\n                style={{\n                  padding: '12px',\n                  background: currentThreadId === conv.threadId \n                    ? 'linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)' \n                    : 'white',\n                  border: currentThreadId === conv.threadId\n                    ? '2px solid #6366f1'\n                    : '1px solid #e2e8f0',\n                  borderRadius: '10px',\n                  cursor: 'pointer',\n                  transition: 'all 0.2s',\n                  position: 'relative',\n                  boxShadow: currentThreadId === conv.threadId \n                    ? '0 10px 25px -5px rgba(99, 102, 241, 0.3)' \n                    : '0 1px 2px 0 rgba(0, 0, 0, 0.05)'\n                }}\n                onMouseEnter={(e) => {\n                  if (currentThreadId !== conv.threadId) {\n                    e.currentTarget.style.transform = 'translateY(-2px)';\n                    e.currentTarget.style.boxShadow = '0 4px 6px -1px rgba(0, 0, 0, 0.1)';\n                  }\n                }}\n                onMouseLeave={(e) => {\n                  if (currentThreadId !== conv.threadId) {\n                    e.currentTarget.style.transform = 'translateY(0)';\n                    e.currentTarget.style.boxShadow = '0 1px 2px 0 rgba(0, 0, 0, 0.05)';\n                  }\n                }}\n              >\n                <div style={{\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'flex-start',\n                  marginBottom: '6px'\n                }}>\n                  <div style={{ \n                    display: 'flex', \n                    alignItems: 'center', \n                    gap: '8px',\n                    flex: 1\n                  }}>\n                    <span style={{ \n                      fontSize: '16px',\n                      filter: currentThreadId === conv.threadId ? 'grayscale(0) brightness(1.2)' : 'none'\n                    }}>\n                      {agentIcons[conv.agentType] || 'üí¨'}\n                    </span>\n                    <div style={{ flex: 1 }}>\n                      <div style={{\n                        fontSize: '13px',\n                        fontWeight: 500,\n                        color: currentThreadId === conv.threadId ? 'white' : '#1e293b',\n                        marginBottom: '2px',\n                        overflow: 'hidden',\n                        textOverflow: 'ellipsis',\n                        whiteSpace: 'nowrap'\n                      }}>\n                        {conv.title || 'New Conversation'}\n                      </div>\n                      <div style={{\n                        fontSize: '11px',\n                        color: currentThreadId === conv.threadId ? 'rgba(255,255,255,0.8)' : '#64748b'\n                      }}>\n                        {conversationStorage.formatDate(conv.lastUpdatedAt)}\n                      </div>\n                    </div>\n                  </div>\n                  <button\n                    onClick={(e) => handleDelete(e, conv.threadId)}\n                    className=\"delete-btn\"\n                    style={{\n                      padding: '2px 6px',\n                      fontSize: '12px',\n                      color: currentThreadId === conv.threadId ? 'rgba(255,255,255,0.9)' : '#6b7280',\n                      background: currentThreadId === conv.threadId \n                        ? 'rgba(255,255,255,0.15)' \n                        : 'rgba(239, 68, 68, 0.05)',\n                      border: currentThreadId === conv.threadId\n                        ? '1px solid rgba(255,255,255,0.2)'\n                        : '1px solid rgba(239, 68, 68, 0.1)',\n                      cursor: 'pointer',\n                      opacity: 0.7,\n                      transition: 'all 0.2s',\n                      borderRadius: '6px',\n                      fontWeight: '500'\n                    }}\n                    onMouseEnter={(e) => {\n                      e.currentTarget.style.opacity = '1';\n                      e.currentTarget.style.background = currentThreadId === conv.threadId \n                        ? 'rgba(255,255,255,0.25)' \n                        : 'rgba(239, 68, 68, 0.15)';\n                      e.currentTarget.style.color = currentThreadId === conv.threadId \n                        ? 'white' \n                        : '#dc2626';\n                      e.currentTarget.style.borderColor = currentThreadId === conv.threadId\n                        ? 'rgba(255,255,255,0.3)'\n                        : 'rgba(239, 68, 68, 0.3)';\n                    }}\n                    onMouseLeave={(e) => {\n                      e.currentTarget.style.opacity = '0.7';\n                      e.currentTarget.style.background = currentThreadId === conv.threadId \n                        ? 'rgba(255,255,255,0.15)' \n                        : 'rgba(239, 68, 68, 0.05)';\n                      e.currentTarget.style.color = currentThreadId === conv.threadId \n                        ? 'rgba(255,255,255,0.9)' \n                        : '#6b7280';\n                      e.currentTarget.style.borderColor = currentThreadId === conv.threadId\n                        ? 'rgba(255,255,255,0.2)'\n                        : 'rgba(239, 68, 68, 0.1)';\n                    }}\n                    title=\"Delete conversation\"\n                  >\n                    ‚úï\n                  </button>\n                </div>\n                <div style={{\n                  fontSize: '11px',\n                  color: currentThreadId === conv.threadId ? 'rgba(255,255,255,0.9)' : '#94a3b8',\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '8px',\n                  flexWrap: 'wrap'\n                }}>\n                  <span>{conv.messages.length} messages</span>\n                  <span>‚Ä¢</span>\n                  <span>{conv.agentType.split('-').map(w => w[0].toUpperCase() + w.slice(1)).join(' ')}</span>\n                  {conv.currentSection && (\n                    <>\n                      <span>‚Ä¢</span>\n                      <span style={{\n                        backgroundColor: currentThreadId === conv.threadId ? 'rgba(255,255,255,0.2)' : '#f3f4f6',\n                        color: currentThreadId === conv.threadId ? 'white' : '#6b7280',\n                        padding: '2px 6px',\n                        borderRadius: '4px',\n                        fontSize: '10px',\n                        fontWeight: '600',\n                        border: currentThreadId === conv.threadId \n                          ? '1px solid rgba(255,255,255,0.3)' \n                          : '1px solid #e5e7eb'\n                      }}>\n                        üìç {conv.currentSection.name}\n                      </span>\n                    </>\n                  )}\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2813, "column": 0}, "map": {"version":3,"sources":["file:///Users/victorialiu/Desktop/FounderBuddy/frontend/src/components/SectionDisplayPanel.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\n\ninterface SectionData {\n  section_id: number;\n  section_name: string;\n  is_completed: boolean;\n  has_content: boolean;\n  current_version: number;\n  ai_interaction_count: number;\n}\n\ninterface SectionContent {\n  content: {\n    text: string;\n  };\n  is_completed: boolean;\n  current_version: number;\n  created_at: string;\n  updated_at: string;\n}\n\ninterface SectionDisplayPanelProps {\n  userId: number;\n  selectedAgent: string;\n  currentSection: { database_id: number; name: string; status: string } | null;\n  threadId: string | null;\n}\n\nconst SECTION_DISPLAY_NAMES: Record<number, string> = {\n  // Value Canvas sections\n  45: 'Initial Interview',\n  46: 'Ideal Customer Persona (ICP)',\n  47: 'ICP Stress Test',\n  48: 'The Pain',\n  49: 'The Deep Fear',\n  50: 'The Payoffs',\n  51: 'Pain-Payoff Symmetry',\n  52: 'Signature Method',\n  53: 'The Mistakes',\n  54: 'The Prize',\n  // Concept Pitch sections\n  9001: 'Summary Confirmation',\n  9002: 'Pitch Generation',\n  9003: 'Pitch Selection',\n  9004: 'Refinement'\n};\n\nconst REFINE_STYLES: Record<string, string> = {\n  'concise': 'Make the content more concise and to the point',\n  'detailed': 'Add more details and explanations to make it comprehensive',\n  'professional': 'Rewrite in a more professional and formal tone',\n  'engaging': 'Make it more engaging and compelling for the reader',\n  'simple': 'Simplify the language to make it easier to understand'\n};\n\nexport default function SectionDisplayPanel({ userId, selectedAgent, currentSection, threadId }: SectionDisplayPanelProps) {\n  const [sections, setSections] = useState<SectionData[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [selectedSectionId, setSelectedSectionId] = useState<number | null>(null);\n  const [sectionContent, setSectionContent] = useState<SectionContent | null>(null);\n  const [loadingContent, setLoadingContent] = useState(false);\n  const [showRefineModal, setShowRefineModal] = useState(false);\n  const [refineLoading, setRefineLoading] = useState(false);\n  const [refinedContent, setRefinedContent] = useState<string | null>(null);\n  const [selectedStyle, setSelectedStyle] = useState<string>('');\n\n  useEffect(() => {\n    if (userId && (selectedAgent === 'value-canvas' || selectedAgent === 'concept-pitch')) {\n      fetchSections();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [userId, selectedAgent, currentSection]);\n\n  const fetchSections = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      // For Concept Pitch, use mock sections since they're not in DentApp yet\n      if (selectedAgent === 'concept-pitch') {\n        const mockSections: SectionData[] = [\n          { section_id: 9001, section_name: 'Summary Confirmation', is_completed: false, has_content: false, current_version: 1, ai_interaction_count: 0 },\n          { section_id: 9002, section_name: 'Pitch Generation', is_completed: false, has_content: false, current_version: 1, ai_interaction_count: 0 },\n          { section_id: 9003, section_name: 'Pitch Selection', is_completed: false, has_content: false, current_version: 1, ai_interaction_count: 0 },\n          { section_id: 9004, section_name: 'Refinement', is_completed: false, has_content: false, current_version: 1, ai_interaction_count: 0 }\n        ];\n        setSections(mockSections);\n        setLoading(false);\n        return;\n      }\n\n      // For Value Canvas, fetch from DentApp API\n      const response = await fetch('/api/sections', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          userId: userId,\n          action: 'get-all-sections'\n        })\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to fetch sections');\n      }\n\n      const data = await response.json();\n      if (data.success && data.data?.sections) {\n        setSections(data.data.sections);\n      } else {\n        throw new Error(data.message || 'Invalid response format');\n      }\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Unknown error');\n      console.error('Error fetching sections:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchSectionContent = async (sectionId: number) => {\n    setLoadingContent(true);\n    setSectionContent(null);\n    try {\n      // For Concept Pitch, show placeholder message (no DentApp integration yet)\n      if (selectedAgent === 'concept-pitch') {\n        setSectionContent({\n          content: { text: 'Concept Pitch sections are currently in development.\\n\\nSection content will be available once DentApp API integration is complete.' },\n          is_completed: false,\n          current_version: 1,\n          created_at: new Date().toISOString(),\n          updated_at: new Date().toISOString()\n        });\n        setLoadingContent(false);\n        return;\n      }\n\n      // For Value Canvas, fetch from DentApp API\n      const response = await fetch('/api/sections', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          userId: userId,\n          action: 'get-section-content',\n          sectionId: sectionId\n        })\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to fetch section content');\n      }\n\n      const data = await response.json();\n      if (data.success && data.data) {\n        setSectionContent(data.data);\n      }\n    } catch (err) {\n      console.error('Error fetching section content:', err);\n      setError('Failed to load section content');\n    } finally {\n      setLoadingContent(false);\n    }\n  };\n\n  const handleSectionChange = (sectionId: string) => {\n    const id = parseInt(sectionId);\n    setSelectedSectionId(id);\n    if (id) {\n      fetchSectionContent(id);\n    }\n  };\n\n  const getSelectedSection = () => {\n    return sections.find(s => s.section_id === selectedSectionId);\n  };\n\n  const handleRefineClick = () => {\n    setShowRefineModal(true);\n    setRefinedContent(null);\n    setSelectedStyle('');\n  };\n\n  const handleRefineExecute = async () => {\n    if (!selectedStyle || !selectedSectionId || !threadId) {\n      alert('Please select a refine style and ensure you have an active conversation');\n      return;\n    }\n\n    setRefineLoading(true);\n    try {\n      const response = await fetch('/api/sections', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          userId: userId,\n          threadId: threadId,\n          action: 'refine-section',\n          sectionId: selectedSectionId,\n          refinementPrompt: REFINE_STYLES[selectedStyle]\n        })\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to refine section');\n      }\n\n      const data = await response.json();\n      if (data.success && data.data?.refined_content) {\n        setRefinedContent(data.data.refined_content.text);\n      } else {\n        throw new Error(data.message || 'Invalid response format');\n      }\n    } catch (err) {\n      console.error('Error refining section:', err);\n      alert('Failed to refine section: ' + (err instanceof Error ? err.message : 'Unknown error'));\n    } finally {\n      setRefineLoading(false);\n    }\n  };\n\n  const handleReplaceContent = async () => {\n    if (!refinedContent || !selectedSectionId || !threadId) return;\n\n    try {\n      // 1. Update database\n      const updateResponse = await fetch('/api/sections', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          userId: userId,\n          action: 'update-section-content',\n          sectionId: selectedSectionId,\n          content: refinedContent\n        })\n      });\n\n      if (!updateResponse.ok) {\n        throw new Error('Failed to update section in database');\n      }\n\n      // 2. Sync LangGraph state\n      const syncResponse = await fetch('/api/sections', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          userId: userId,\n          threadId: threadId,\n          action: 'sync-section',\n          sectionId: selectedSectionId\n        })\n      });\n\n      if (!syncResponse.ok) {\n        throw new Error('Failed to sync LangGraph state');\n      }\n\n      // 3. Refresh displayed content\n      await fetchSectionContent(selectedSectionId);\n      setShowRefineModal(false);\n      setRefinedContent(null);\n      setSelectedStyle('');\n    } catch (err) {\n      console.error('Error replacing content:', err);\n      alert('Failed to replace content: ' + (err instanceof Error ? err.message : 'Unknown error'));\n    }\n  };\n\n  if (selectedAgent !== 'value-canvas' && selectedAgent !== 'concept-pitch') {\n    return null;\n  }\n\n  const selectedSection = getSelectedSection();\n\n  return (\n    <div style={{\n      width: '500px',\n      height: '100vh',\n      backgroundColor: 'white',\n      borderLeft: '1px solid #e2e8f0',\n      display: 'flex',\n      flexDirection: 'column',\n      overflow: 'hidden'\n    }}>\n      {/* Header */}\n      <div style={{\n        padding: '16px 20px',\n        borderBottom: '1px solid #e2e8f0',\n        backgroundColor: '#ffffff'\n      }}>\n        <div style={{ marginBottom: '16px' }}>\n          <h2 style={{\n            fontSize: '18px',\n            fontWeight: '700',\n            color: '#1e293b',\n            margin: '0 0 4px 0'\n          }}>\n            üìÑ Section Viewer\n          </h2>\n          <p style={{\n            fontSize: '12px',\n            color: '#64748b',\n            margin: 0\n          }}>\n            User #{userId}\n          </p>\n        </div>\n\n        {/* Dropdown Selector */}\n        <div style={{ display: 'flex', gap: '8px' }}>\n          <select\n            value={selectedSectionId || ''}\n            onChange={(e) => handleSectionChange(e.target.value)}\n            disabled={loading || sections.length === 0}\n            style={{\n              flex: 1,\n              padding: '10px 12px',\n              border: '2px solid #e2e8f0',\n              borderRadius: '8px',\n              fontSize: '13px',\n              fontWeight: '500',\n              color: '#1e293b',\n              backgroundColor: 'white',\n              cursor: 'pointer',\n              outline: 'none',\n              transition: 'all 0.2s ease'\n            }}\n            onFocus={(e) => e.currentTarget.style.borderColor = '#6366f1'}\n            onBlur={(e) => e.currentTarget.style.borderColor = '#e2e8f0'}\n          >\n            <option value=\"\">Select a section to view</option>\n            {sections.map((section) => (\n              <option key={section.section_id} value={section.section_id}>\n                #{section.section_id} - {SECTION_DISPLAY_NAMES[section.section_id]}\n                {section.is_completed ? ' ‚úì' : ''}\n                (v{section.current_version})\n              </option>\n            ))}\n          </select>\n\n          <button\n            onClick={fetchSections}\n            disabled={loading}\n            style={{\n              padding: '10px 14px',\n              backgroundColor: loading ? '#e2e8f0' : '#6366f1',\n              color: loading ? '#94a3b8' : 'white',\n              border: 'none',\n              borderRadius: '8px',\n              fontSize: '16px',\n              cursor: loading ? 'not-allowed' : 'pointer',\n              transition: 'all 0.2s ease'\n            }}\n            onMouseEnter={(e) => !loading && (e.currentTarget.style.backgroundColor = '#4f46e5')}\n            onMouseLeave={(e) => !loading && (e.currentTarget.style.backgroundColor = '#6366f1')}\n            title=\"Refresh sections\"\n          >\n            üîÑ\n          </button>\n        </div>\n      </div>\n\n      {/* Content Area */}\n      <div style={{\n        flex: 1,\n        overflowY: 'auto',\n        backgroundColor: '#f8fafc'\n      }}>\n        {error && (\n          <div style={{\n            margin: '20px',\n            padding: '16px',\n            backgroundColor: '#fee2e2',\n            borderRadius: '8px',\n            fontSize: '13px',\n            color: '#991b1b',\n            border: '1px solid #fecaca'\n          }}>\n            ‚ùå {error}\n          </div>\n        )}\n\n        {loading && sections.length === 0 ? (\n          <div style={{\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            justifyContent: 'center',\n            padding: '60px 20px',\n            color: '#64748b'\n          }}>\n            <div style={{\n              width: '40px',\n              height: '40px',\n              border: '3px solid #e2e8f0',\n              borderTop: '3px solid #6366f1',\n              borderRadius: '50%',\n              animation: 'spin 1s linear infinite',\n              marginBottom: '16px'\n            }}></div>\n            <p style={{ fontSize: '13px', margin: 0 }}>Loading sections...</p>\n          </div>\n        ) : !selectedSectionId ? (\n          <div style={{\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            justifyContent: 'center',\n            padding: '60px 20px',\n            color: '#94a3b8',\n            textAlign: 'center'\n          }}>\n            <div style={{ fontSize: '48px', marginBottom: '16px' }}>üìã</div>\n            <p style={{ fontSize: '14px', fontWeight: '500', color: '#64748b', margin: '0 0 8px 0' }}>\n              Select a section to view\n            </p>\n            <p style={{ fontSize: '12px', margin: 0 }}>\n              Choose from the dropdown above to see section content\n            </p>\n          </div>\n        ) : loadingContent ? (\n          <div style={{\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            justifyContent: 'center',\n            padding: '60px 20px',\n            color: '#64748b'\n          }}>\n            <div style={{\n              width: '40px',\n              height: '40px',\n              border: '3px solid #e2e8f0',\n              borderTop: '3px solid #6366f1',\n              borderRadius: '50%',\n              animation: 'spin 1s linear infinite',\n              marginBottom: '16px'\n            }}></div>\n            <p style={{ fontSize: '13px', margin: 0 }}>Loading content...</p>\n          </div>\n        ) : sectionContent ? (\n          <div style={{ padding: '20px' }}>\n            {/* Section Info Card */}\n            <div style={{\n              backgroundColor: 'white',\n              borderRadius: '12px',\n              padding: '16px',\n              marginBottom: '16px',\n              border: '1px solid #e2e8f0',\n              boxShadow: '0 1px 3px rgba(0,0,0,0.05)'\n            }}>\n              <div style={{ display: 'flex', alignItems: 'flex-start', gap: '12px', marginBottom: '12px' }}>\n                <div style={{\n                  width: '40px',\n                  height: '40px',\n                  borderRadius: '8px',\n                  backgroundColor: selectedSection?.is_completed ? '#dcfce7' : '#f1f5f9',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  fontSize: '20px',\n                  flexShrink: 0\n                }}>\n                  {selectedSection?.is_completed ? '‚úì' : 'üìù'}\n                </div>\n                <div style={{ flex: 1 }}>\n                  <h3 style={{\n                    fontSize: '15px',\n                    fontWeight: '700',\n                    color: '#1e293b',\n                    margin: '0 0 4px 0'\n                  }}>\n                    {selectedSection && SECTION_DISPLAY_NAMES[selectedSection.section_id]}\n                  </h3>\n                  <div style={{\n                    fontSize: '11px',\n                    color: '#64748b',\n                    display: 'flex',\n                    gap: '12px',\n                    flexWrap: 'wrap'\n                  }}>\n                    <span style={{\n                      backgroundColor: '#f1f5f9',\n                      padding: '2px 8px',\n                      borderRadius: '4px',\n                      fontWeight: '500'\n                    }}>\n                      Section #{selectedSectionId}\n                    </span>\n                    <span>Version {sectionContent.current_version}</span>\n                    <span>‚Ä¢</span>\n                    <span>{selectedSection?.ai_interaction_count || 0} interactions</span>\n                  </div>\n                </div>\n                <div style={{\n                  padding: '4px 10px',\n                  borderRadius: '12px',\n                  backgroundColor: selectedSection?.is_completed ? '#dcfce7' : '#fef3c7',\n                  color: selectedSection?.is_completed ? '#166534' : '#92400e',\n                  fontSize: '11px',\n                  fontWeight: '600'\n                }}>\n                  {selectedSection?.is_completed ? 'Completed' : 'In Progress'}\n                </div>\n              </div>\n            </div>\n\n            {/* Content Card */}\n            <div style={{\n              backgroundColor: 'white',\n              borderRadius: '12px',\n              padding: '20px',\n              border: '1px solid #e2e8f0',\n              boxShadow: '0 1px 3px rgba(0,0,0,0.05)'\n            }}>\n              <div style={{\n                display: 'flex',\n                justifyContent: 'space-between',\n                alignItems: 'center',\n                marginBottom: '12px'\n              }}>\n                <div style={{\n                  fontSize: '12px',\n                  fontWeight: '600',\n                  color: '#64748b',\n                  textTransform: 'uppercase',\n                  letterSpacing: '0.5px'\n                }}>\n                  Content\n                </div>\n                <button\n                  onClick={handleRefineClick}\n                  disabled={!threadId || !sectionContent?.content.text}\n                  style={{\n                    padding: '6px 12px',\n                    backgroundColor: (!threadId || !sectionContent?.content.text) ? '#e2e8f0' : '#8b5cf6',\n                    color: (!threadId || !sectionContent?.content.text) ? '#94a3b8' : 'white',\n                    border: 'none',\n                    borderRadius: '6px',\n                    fontSize: '12px',\n                    fontWeight: '600',\n                    cursor: (!threadId || !sectionContent?.content.text) ? 'not-allowed' : 'pointer',\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '4px',\n                    transition: 'all 0.2s ease'\n                  }}\n                  onMouseEnter={(e) => {\n                    if (threadId && sectionContent?.content.text) {\n                      e.currentTarget.style.backgroundColor = '#7c3aed';\n                    }\n                  }}\n                  onMouseLeave={(e) => {\n                    if (threadId && sectionContent?.content.text) {\n                      e.currentTarget.style.backgroundColor = '#8b5cf6';\n                    }\n                  }}\n                  title={!threadId ? 'Active conversation required' : 'Refine this section with AI'}\n                >\n                  ‚ú® Refine\n                </button>\n              </div>\n              <div style={{\n                fontSize: '13px',\n                lineHeight: '1.7',\n                color: '#1e293b',\n                whiteSpace: 'pre-wrap',\n                backgroundColor: '#f8fafc',\n                padding: '16px',\n                borderRadius: '8px',\n                border: '1px solid #e2e8f0',\n                minHeight: '200px',\n                maxHeight: '500px',\n                overflowY: 'auto'\n              }}>\n                {sectionContent.content.text || (\n                  <span style={{ color: '#94a3b8', fontStyle: 'italic' }}>\n                    No content available for this section\n                  </span>\n                )}\n              </div>\n\n              {/* Metadata */}\n              <div style={{\n                marginTop: '16px',\n                paddingTop: '16px',\n                borderTop: '1px solid #e2e8f0',\n                display: 'flex',\n                gap: '16px',\n                flexWrap: 'wrap',\n                fontSize: '11px',\n                color: '#64748b'\n              }}>\n                <div>\n                  <span style={{ fontWeight: '600' }}>Created:</span>{' '}\n                  {new Date(sectionContent.created_at).toLocaleString()}\n                </div>\n                <div>\n                  <span style={{ fontWeight: '600' }}>Updated:</span>{' '}\n                  {new Date(sectionContent.updated_at).toLocaleString()}\n                </div>\n              </div>\n            </div>\n          </div>\n        ) : (\n          <div style={{\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            justifyContent: 'center',\n            padding: '60px 20px',\n            color: '#94a3b8',\n            textAlign: 'center'\n          }}>\n            <div style={{ fontSize: '48px', marginBottom: '16px' }}>‚ö†Ô∏è</div>\n            <p style={{ fontSize: '14px', fontWeight: '500', color: '#64748b', margin: 0 }}>\n              Failed to load content\n            </p>\n          </div>\n        )}\n      </div>\n\n      {/* Refine Modal */}\n      {showRefineModal && (\n        <>\n          <div\n            onClick={() => setShowRefineModal(false)}\n            style={{\n              position: 'fixed',\n              top: 0,\n              left: 0,\n              right: 0,\n              bottom: 0,\n              backgroundColor: 'rgba(0, 0, 0, 0.5)',\n              zIndex: 1000,\n              animation: 'fadeIn 0.2s ease'\n            }}\n          />\n          <div style={{\n            position: 'fixed',\n            top: '50%',\n            left: '50%',\n            transform: 'translate(-50%, -50%)',\n            width: '90%',\n            maxWidth: '1000px',\n            maxHeight: '90vh',\n            backgroundColor: 'white',\n            borderRadius: '16px',\n            boxShadow: '0 25px 50px -12px rgba(0, 0, 0, 0.25)',\n            zIndex: 1001,\n            display: 'flex',\n            flexDirection: 'column',\n            overflow: 'hidden',\n            animation: 'slideIn 0.3s ease'\n          }}>\n            {/* Modal Header */}\n            <div style={{\n              padding: '24px',\n              borderBottom: '1px solid #e2e8f0',\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'center'\n            }}>\n              <div>\n                <h3 style={{\n                  fontSize: '20px',\n                  fontWeight: '700',\n                  color: '#1e293b',\n                  margin: '0 0 4px 0'\n                }}>\n                  ‚ú® Refine Section Content\n                </h3>\n                <p style={{\n                  fontSize: '13px',\n                  color: '#64748b',\n                  margin: '0 0 4px 0'\n                }}>\n                  {selectedSection && SECTION_DISPLAY_NAMES[selectedSection.section_id]}\n                </p>\n                <p style={{\n                  fontSize: '11px',\n                  color: '#8b5cf6',\n                  margin: 0,\n                  fontWeight: '500',\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '4px'\n                }}>\n                  <span>üîó Thread:</span>\n                  <code style={{\n                    backgroundColor: '#f5f3ff',\n                    padding: '2px 6px',\n                    borderRadius: '4px',\n                    fontSize: '10px',\n                    fontFamily: 'monospace'\n                  }}>\n                    {threadId}\n                  </code>\n                </p>\n              </div>\n              <button\n                onClick={() => setShowRefineModal(false)}\n                style={{\n                  width: '36px',\n                  height: '36px',\n                  borderRadius: '50%',\n                  backgroundColor: '#f1f5f9',\n                  border: 'none',\n                  color: '#64748b',\n                  fontSize: '20px',\n                  cursor: 'pointer',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  transition: 'all 0.2s ease'\n                }}\n                onMouseEnter={(e) => {\n                  e.currentTarget.style.backgroundColor = '#e2e8f0';\n                  e.currentTarget.style.color = '#1e293b';\n                }}\n                onMouseLeave={(e) => {\n                  e.currentTarget.style.backgroundColor = '#f1f5f9';\n                  e.currentTarget.style.color = '#64748b';\n                }}\n              >\n                ‚úï\n              </button>\n            </div>\n\n            {/* Modal Content */}\n            <div style={{\n              flex: 1,\n              overflowY: 'auto',\n              padding: '24px'\n            }}>\n              {/* Style Selection */}\n              {!refinedContent && (\n                <div style={{ marginBottom: '24px' }}>\n                  <label style={{\n                    display: 'block',\n                    fontSize: '14px',\n                    fontWeight: '600',\n                    color: '#1e293b',\n                    marginBottom: '8px'\n                  }}>\n                    Select Refine Style\n                  </label>\n                  <select\n                    value={selectedStyle}\n                    onChange={(e) => setSelectedStyle(e.target.value)}\n                    disabled={refineLoading}\n                    style={{\n                      width: '100%',\n                      padding: '10px 12px',\n                      border: '2px solid #e2e8f0',\n                      borderRadius: '8px',\n                      fontSize: '14px',\n                      color: '#1e293b',\n                      backgroundColor: 'white',\n                      cursor: refineLoading ? 'not-allowed' : 'pointer'\n                    }}\n                  >\n                    <option value=\"\">Choose a style...</option>\n                    <option value=\"concise\">‚úÇÔ∏è More Concise</option>\n                    <option value=\"detailed\">üìù More Detailed</option>\n                    <option value=\"professional\">üíº More Professional</option>\n                    <option value=\"engaging\">üéØ More Engaging</option>\n                    <option value=\"simple\">üí° Simpler Language</option>\n                  </select>\n                  {selectedStyle && (\n                    <p style={{\n                      marginTop: '8px',\n                      fontSize: '12px',\n                      color: '#64748b',\n                      fontStyle: 'italic'\n                    }}>\n                      {REFINE_STYLES[selectedStyle]}\n                    </p>\n                  )}\n                </div>\n              )}\n\n              {/* Original Content */}\n              <div style={{ marginBottom: refinedContent ? '16px' : '0' }}>\n                <div style={{\n                  fontSize: '12px',\n                  fontWeight: '600',\n                  color: '#64748b',\n                  marginBottom: '8px',\n                  textTransform: 'uppercase',\n                  letterSpacing: '0.5px'\n                }}>\n                  {refinedContent ? 'Original Content' : 'Current Content'}\n                </div>\n                <div style={{\n                  padding: '16px',\n                  backgroundColor: '#f8fafc',\n                  borderRadius: '8px',\n                  border: '1px solid #e2e8f0',\n                  fontSize: '13px',\n                  lineHeight: '1.7',\n                  color: '#1e293b',\n                  whiteSpace: 'pre-wrap',\n                  maxHeight: refinedContent ? '300px' : '400px',\n                  overflowY: 'auto'\n                }}>\n                  {sectionContent?.content.text || 'No content'}\n                </div>\n              </div>\n\n              {/* Refined Content Preview */}\n              {refinedContent && (\n                <div>\n                  <div style={{\n                    fontSize: '12px',\n                    fontWeight: '600',\n                    color: '#8b5cf6',\n                    marginBottom: '8px',\n                    textTransform: 'uppercase',\n                    letterSpacing: '0.5px'\n                  }}>\n                    ‚ú® Refined Content\n                  </div>\n                  <div style={{\n                    padding: '16px',\n                    backgroundColor: '#faf5ff',\n                    borderRadius: '8px',\n                    border: '2px solid #8b5cf6',\n                    fontSize: '13px',\n                    lineHeight: '1.7',\n                    color: '#1e293b',\n                    whiteSpace: 'pre-wrap',\n                    maxHeight: '300px',\n                    overflowY: 'auto'\n                  }}>\n                    {refinedContent}\n                  </div>\n                </div>\n              )}\n\n              {/* Loading State */}\n              {refineLoading && (\n                <div style={{\n                  display: 'flex',\n                  flexDirection: 'column',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  padding: '40px',\n                  color: '#64748b'\n                }}>\n                  <div style={{\n                    width: '40px',\n                    height: '40px',\n                    border: '3px solid #e2e8f0',\n                    borderTop: '3px solid #8b5cf6',\n                    borderRadius: '50%',\n                    animation: 'spin 1s linear infinite',\n                    marginBottom: '16px'\n                  }}></div>\n                  <p style={{ fontSize: '14px', margin: 0 }}>Refining content...</p>\n                </div>\n              )}\n            </div>\n\n            {/* Modal Footer */}\n            <div style={{\n              padding: '20px 24px',\n              borderTop: '1px solid #e2e8f0',\n              display: 'flex',\n              justifyContent: 'flex-end',\n              gap: '12px'\n            }}>\n              <button\n                onClick={() => {\n                  setShowRefineModal(false);\n                  setRefinedContent(null);\n                  setSelectedStyle('');\n                }}\n                style={{\n                  padding: '10px 20px',\n                  backgroundColor: '#f1f5f9',\n                  color: '#64748b',\n                  border: 'none',\n                  borderRadius: '8px',\n                  fontSize: '14px',\n                  fontWeight: '600',\n                  cursor: 'pointer',\n                  transition: 'all 0.2s ease'\n                }}\n                onMouseEnter={(e) => e.currentTarget.style.backgroundColor = '#e2e8f0'}\n                onMouseLeave={(e) => e.currentTarget.style.backgroundColor = '#f1f5f9'}\n              >\n                Cancel\n              </button>\n              {!refinedContent ? (\n                <button\n                  onClick={handleRefineExecute}\n                  disabled={!selectedStyle || refineLoading}\n                  style={{\n                    padding: '10px 20px',\n                    backgroundColor: (!selectedStyle || refineLoading) ? '#e2e8f0' : '#8b5cf6',\n                    color: (!selectedStyle || refineLoading) ? '#94a3b8' : 'white',\n                    border: 'none',\n                    borderRadius: '8px',\n                    fontSize: '14px',\n                    fontWeight: '600',\n                    cursor: (!selectedStyle || refineLoading) ? 'not-allowed' : 'pointer',\n                    transition: 'all 0.2s ease'\n                  }}\n                  onMouseEnter={(e) => {\n                    if (selectedStyle && !refineLoading) {\n                      e.currentTarget.style.backgroundColor = '#7c3aed';\n                    }\n                  }}\n                  onMouseLeave={(e) => {\n                    if (selectedStyle && !refineLoading) {\n                      e.currentTarget.style.backgroundColor = '#8b5cf6';\n                    }\n                  }}\n                >\n                  ‚ú® Refine\n                </button>\n              ) : (\n                <button\n                  onClick={handleReplaceContent}\n                  style={{\n                    padding: '10px 20px',\n                    backgroundColor: '#10b981',\n                    color: 'white',\n                    border: 'none',\n                    borderRadius: '8px',\n                    fontSize: '14px',\n                    fontWeight: '600',\n                    cursor: 'pointer',\n                    transition: 'all 0.2s ease'\n                  }}\n                  onMouseEnter={(e) => e.currentTarget.style.backgroundColor = '#059669'}\n                  onMouseLeave={(e) => e.currentTarget.style.backgroundColor = '#10b981'}\n                >\n                  ‚úì Replace Content\n                </button>\n              )}\n            </div>\n          </div>\n        </>\n      )}\n\n      <style jsx>{`\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n        @keyframes fadeIn {\n          from { opacity: 0; }\n          to { opacity: 1; }\n        }\n        @keyframes slideIn {\n          from {\n            opacity: 0;\n            transform: translate(-50%, -45%);\n          }\n          to {\n            opacity: 1;\n            transform: translate(-50%, -50%);\n          }\n        }\n      `}</style>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4354, "column": 0}, "map": {"version":3,"sources":["file:///Users/victorialiu/Desktop/FounderBuddy/frontend/src/app/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport ConfigPanel from '@/components/ConfigPanel';\nimport ChatArea from '@/components/ChatArea';\nimport ProgressSidebar from '@/components/ProgressSidebar';\nimport ConversationHistory from '@/components/ConversationHistory';\nimport SectionDisplayPanel from '@/components/SectionDisplayPanel';\nimport { ConversationRecord, Message } from '@/utils/conversationStorage';\n\ninterface Section {\n  database_id: number;\n  name: string;\n  status: string;\n}\n\nexport default function Chat() {\n  const [selectedAgent, setSelectedAgent] = useState<string>('founder-buddy');\n  const [userId, setUserId] = useState<number>(12);\n  const [mode, setMode] = useState<'invoke' | 'stream'>('stream');\n  const [threadId, setThreadId] = useState<string | null>(null);\n  const [currentSection, setCurrentSection] = useState<Section | null>(null);\n  const [loadedMessages, setLoadedMessages] = useState<Message[]>([]);\n  const [isConfigOpen, setIsConfigOpen] = useState<boolean>(false);\n\n  const handleAgentChange = (agentId: string) => {\n    setSelectedAgent(agentId);\n    // Reset conversation when agent changes\n    setThreadId(null);\n    setCurrentSection(null);\n  };\n\n  const handleUserIdChange = (newUserId: number) => {\n    setUserId(newUserId);\n  };\n\n  const handleModeChange = (newMode: 'invoke' | 'stream') => {\n    setMode(newMode);\n  };\n\n\n  const handleThreadIdChange = (newThreadId: string) => {\n    setThreadId(newThreadId);\n  };\n\n  const handleSectionUpdate = (section: Section) => {\n    setCurrentSection(section);\n  };\n\n  const handleLoadConversation = (conversation: ConversationRecord) => {\n    setThreadId(conversation.threadId);\n    setSelectedAgent(conversation.agentType);\n    setUserId(conversation.userId);\n    setLoadedMessages(conversation.messages);\n    \n    // Restore section state if available\n    if (conversation.currentSection) {\n      setCurrentSection(conversation.currentSection);\n    } else {\n      setCurrentSection(null);\n    }\n  };\n\n  const handleDeleteConversation = (deletedThreadId: string) => {\n    if (threadId === deletedThreadId) {\n      setThreadId(null);\n      setLoadedMessages([]);\n      setCurrentSection(null);\n    }\n  };\n\n  return (\n    <div style={{\n      display: 'flex',\n      height: '100vh',\n      fontFamily: 'system-ui, -apple-system, sans-serif',\n      position: 'relative'\n    }}>\n\n      {/* Settings Modal */}\n      {isConfigOpen && (\n        <>\n          <div\n            onClick={() => setIsConfigOpen(false)}\n            style={{\n              position: 'fixed',\n              top: 0,\n              left: 0,\n              right: 0,\n              bottom: 0,\n              backgroundColor: 'rgba(0, 0, 0, 0.5)',\n              zIndex: 200,\n              animation: 'fadeIn 0.2s ease'\n            }}\n          />\n          <div style={{\n            position: 'fixed',\n            top: '50%',\n            left: '50%',\n            transform: 'translate(-50%, -50%)',\n            zIndex: 201,\n            animation: 'slideIn 0.3s ease'\n          }}>\n            <ConfigPanel\n              selectedAgent={selectedAgent}\n              userId={userId}\n              mode={mode}\n              threadId={threadId}\n              onAgentChange={handleAgentChange}\n              onUserIdChange={handleUserIdChange}\n              onModeChange={handleModeChange}\n              onClose={() => setIsConfigOpen(false)}\n            />\n          </div>\n        </>\n      )}\n\n      {/* Left Sidebar - Chat History */}\n      <div style={{\n        width: '280px',\n        height: '100vh',\n        backgroundColor: '#f8fafc',\n        borderRight: '1px solid #e2e8f0',\n        display: 'flex',\n        flexDirection: 'column',\n        overflow: 'hidden'\n      }}>\n        {/* Settings Button */}\n        <div style={{ padding: '16px', borderBottom: '1px solid #e2e8f0' }}>\n          <button\n            onClick={() => setIsConfigOpen(true)}\n            style={{\n              width: '100%',\n              padding: '10px 16px',\n              backgroundColor: '#6366f1',\n              color: 'white',\n              border: 'none',\n              borderRadius: '8px',\n              fontSize: '14px',\n              cursor: 'pointer',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              gap: '8px',\n              transition: 'all 0.2s ease',\n              fontWeight: '600'\n            }}\n            onMouseEnter={(e) => {\n              e.currentTarget.style.backgroundColor = '#4f46e5';\n              e.currentTarget.style.transform = 'translateY(-1px)';\n              e.currentTarget.style.boxShadow = '0 4px 6px rgba(0, 0, 0, 0.1)';\n            }}\n            onMouseLeave={(e) => {\n              e.currentTarget.style.backgroundColor = '#6366f1';\n              e.currentTarget.style.transform = 'translateY(0)';\n              e.currentTarget.style.boxShadow = 'none';\n            }}\n            title=\"Open Settings\"\n          >\n            <span style={{ fontSize: '16px' }}>‚öô</span>\n            <span>Settings</span>\n          </button>\n        </div>\n\n        {/* Chat History */}\n        <div style={{ flex: 1, overflow: 'hidden', display: 'flex', flexDirection: 'column' }}>\n          <ConversationHistory\n            currentThreadId={threadId}\n            selectedAgent={selectedAgent}\n            onSelectConversation={handleLoadConversation}\n            onDeleteConversation={handleDeleteConversation}\n          />\n        </div>\n      </div>\n\n      <ChatArea\n        selectedAgent={selectedAgent}\n        userId={userId}\n        mode={mode}\n        threadId={threadId}\n        loadedMessages={loadedMessages}\n        currentSection={currentSection}\n        onThreadIdChange={handleThreadIdChange}\n        onSectionUpdate={handleSectionUpdate}\n        progressSidebar={\n          <ProgressSidebar\n            currentSection={currentSection}\n            selectedAgent={selectedAgent}\n          />\n        }\n      />\n\n      {/* Right Sidebar - Section Display Panel */}\n      <SectionDisplayPanel\n        userId={userId}\n        selectedAgent={selectedAgent}\n        currentSection={currentSection}\n        threadId={threadId}\n      />\n\n      <style jsx>{`\n        @keyframes fadeIn {\n          from { opacity: 0; }\n          to { opacity: 1; }\n        }\n        @keyframes slideIn {\n          from {\n            opacity: 0;\n            transform: translate(-50%, -45%);\n          }\n          to {\n            opacity: 1;\n            transform: translate(-50%, -50%);\n          }\n        }\n      `}</style>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}